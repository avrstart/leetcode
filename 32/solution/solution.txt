1. если встретили открывающую скобку - сразу добавляем ее индекс в стек
2. если встретили закрывающую скобку и стек пустой - добавляем ее индекс в стек, относительно этого будем понимать что последовательность правильная
3. если встретили закрывающую скобку и стек не пустой и на вершине стека открывающая скобка, попаем ее и смотрим пустой стек или нет
если пустой, то к текущему индексу добавляем единицу, т.е. все скобки что были ранее правильные
если стек не пустой, значит либо было что то с неправильной скобочной последовательностью, либо мы еще не спустились до 0 вложенности скобок
поэтому берем разницу между текущим индексом и вершиной стека
