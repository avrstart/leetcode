1. заводим счетчик, который учитывает все умножения и идем по строке, добавляем элементы в стек
2. если счетчик больше - выходим
3. разматываем стек в обратную сторону, если цифра - уменьшаем на нее счетчик, далее k приравниваем остатку от деления на счетчик, т.е. чтобы откинуть повторения
4. если попалась буква - проверяем что остаток от деления к на счетчик равно нулю, если так то на вершине стека ответ
5. если нет - уменьшаем счетчик на 1